{"version":3,"sources":["webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["_userApi","__webpack_require__","getUsers","then","result","usersBody","forEach","user","id","firstName","lastName","email","global","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","deleteUser","dataset","row","parentNode","removeChild","catch","error","console","log","g","this","Function","eval","e","window","module","exports","onSuccess","response","json","onError","url","fetch","baseUrl","get","request","Request","method","del","default","name","location","href","replace","RegExp","exec","decodeURIComponent","getQueryStringParameterByName"],"mappings":"8DAAA,IAAAA,EAAAC,EAAA,GACAA,EAAA,IAEA,EAAAD,EAAAE,YACGC,KAAK,SAAAC,GACJ,IAAIC,EAAY,GAEhBD,EAAOE,QAAQ,SAAAC,GACbF,6CAC6BE,EAAKC,GADlC,qDAEQD,EAAKC,GAFb,sBAGQD,EAAKE,UAHb,sBAIQF,EAAKG,SAJb,sBAKQH,EAAKI,MALb,uBASFC,EAAOC,SAASC,eAAe,SAASC,UAAYV,EAEpD,IAAMW,EAAcJ,EAAOC,SAASI,uBAAuB,cAE3DC,MAAMC,KAAKH,EAAa,SAAAI,GACtBA,EAAKC,QAAU,SAACC,GACd,IAAMC,EAAUD,EAAME,OACtBF,EAAMG,kBACN,EAAAzB,EAAA0B,YAAWH,EAAQI,QAAQnB,IAC3B,IAAMoB,EAAML,EAAQM,WAAWA,WAC/BD,EAAIC,WAAWC,YAAYF,QAIjCG,MAAM,SAAAC,GAAA,OAASC,QAAQC,IAAIF,mCC/B7B,IAAAG,EAGAA,EAAA,WACA,OAAAC,KADA,GAIA,IAEAD,KAAAE,SAAA,cAAAA,KAAA,EAAAC,MAAA,QACC,MAAAC,GAED,iBAAAC,SACAL,EAAAK,QAOAC,EAAAC,QAAAP,gCCKA,SAASQ,EAAUC,GACjB,OAAOA,EAASC,OAGlB,SAASC,EAAQd,GACfC,QAAQC,IAAIF,sDAzBE9B,SAAT,WACL,OAOF,SAAa6C,GACX,OAAOC,MAAMC,EAAUF,GAAK5C,KAAKwC,EAAWG,GARrCI,CAAI,YAEGxB,WAAT,SAAoBlB,GACzB,OAQF,SAAauC,GACX,IAAMI,EAAU,IAAIC,QAAQH,EAAUF,GACpCM,OAAQ,WAGV,OAAOL,MAAMG,GAAShD,KAAKwC,EAAWG,GAb/BQ,UAAa9C,IATtBP,EAAA,GACA,IAEMgD,GAAU,oDAFhBhD,EAAA,IAEgBsD,oGCHD,WACb,OAGF,SAAuCC,EAAMT,GACvCA,IAAKA,EAAMP,OAAOiB,SAASC,MAC/BF,EAAOA,EAAKG,QAAQ,QAAS,QAC7B,IACIvD,EADQ,IAAIwD,OAAO,OAASJ,EAAO,qBACpBK,KAAKd,GACxB,OAAI3C,EACAA,EAAO,GACJ0D,mBAAmB1D,EAAO,GAAGuD,QAAQ,MAAO,MAD7B,GADH,KARZI,CAA8B,cAAgB,yBAA2B","file":"main.84cea15534347c93b0fd.js","sourcesContent":["import { getUsers, deleteUser } from \"./api/userApi\";\nimport './index.css';\n\ngetUsers()\n  .then(result => {\n    let usersBody = \"\";\n\n    result.forEach(user => {\n      usersBody += `<tr>\n        <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\n        <td>${user.id}</td>\n        <td>${user.firstName}</td>\n        <td>${user.lastName}</td>\n        <td>${user.email}</td>\n      </tr>`;\n    });\n\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    const deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n    Array.from(deleteLinks, link => {\n      link.onclick = (event) => {\n        const element = event.target;\n        event.preventDefault();\n        deleteUser(element.dataset.id);\n        const row = element.parentNode.parentNode;\n        row.parentNode.removeChild(row);\n      };\n    });\n  })\n .catch(error => console.log(error)); // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch';\nimport getBaseUrl from \"./baseUrl\";\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n  return get('users');\n}\nexport function deleteUser(id) {\n  return del(`users/${id}`);\n}\n\n//---------------------------------------------------------------\nfunction get(url) {\n  return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\nfunction del(url) {\n  const request = new Request(baseUrl + url, {\n    method: \"DELETE\"\n  });\n\n  return fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(response) {\n  return response.json();\n}\n\nfunction onError(error) {\n  console.log(error); // eslint-disable-line no-console\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","export default function getBaseUrl() {\n  return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : 'https://sour-enemy.glitch.me/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n  if(!url) url = window.location.href;\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n      result = regex.exec(url);\n  if(!result) return null;\n  if(!result[2]) return '';\n  return decodeURIComponent(result[2].replace(/\\+/g, \" \"));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js"],"sourceRoot":""}